<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Loading Job...</title>
    <meta property="og:title" content="Loading Job..." />
    <meta property="og:description" content="Fetching job details..." />
    <meta property="og:image" content="https://your-default-image-url.com/default.jpg" />
    <meta property="og:url" content="https://yourgithubusername.github.io/dynamic-job-pages/" />
    <script>
        async function fetchJobData() {
              const jobId = pathParts.length > 0 ? pathParts[pathParts.length - 1] : null;

                if (!jobId) {
                    document.body.innerHTML = "<h1>Error: No Job ID Found</h1>";
                    return;
                }

            const apiUrl = `https://api.bench-stage.xyz/api/v1/ats/job-posts/{jobId}`;

            try {
                const response = await fetch(apiUrl, {
                    headers: {
                        Authorization: "Bearer OHh9nrWvHATrBwqrAT50ho2fLCNz9gJ0VaDURbuP4zCNND3xIqQO5lgS5SCmllq9NrwguprTGg8492yWkfsbzWdDZXoTHjMy7Z9LDTpbYN0bCdEHFaLF1PCE5BVQkzGMvf4g0vG5I0Q9f3mhfZaXrFeBPRABopRIcD63AFuNGFd2QnyRuMxJm1cU0oov8CghNfEz8CZ4aGLs5R8SjGMa6eJyfzHudUIq0uYWpa2PDYF2VqFa", 
                        "Content-Type": "application/json"
                    }
                });
                const data = await response.json();

                document.title = data.job_title?.name || "Job Post";
                document.querySelector('meta[property="og:title"]').setAttribute("content", data.job_title?.name || "Job Post");
                document.querySelector('meta[property="og:description"]').setAttribute("content", data.job_description || "Job Description");
                document.querySelector('meta[property="og:image"]').setAttribute("content", data.cover || "https://your-default-image-url.com/default.jpg");
            } catch (error) {
                console.error("Error fetching job data:", error);
            }
        }
        fetchJobData();
    </script>
</head>
<body>
    <h1>Job Page</h1>
    <p>Loading job details...</p>
</body>
</html>
